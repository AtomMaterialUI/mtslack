.p-channel_sidebar__channel,
.p-channel_sidebar__link,
.p-channel_sidebar__channel:link,
.p-channel_sidebar__link:link,
.p-channel_sidebar__channel:visited,
.p-channel_sidebar__link:visited,
.p-channel_sidebar__channel:hover,
.p-channel_sidebar__channel--context,
.p-channel_sidebar__link:hover,
.p-channel_sidebar__section_placeholder {
  color: $fg;
}

.c-sidebar_menu__list_item {
  color: $fg;

  &.is_active {
    background: $tree;
    border: 1px solid $tree;
    color: $selectFg;
  }

  &:not(.is_active):hover {
    color: inherit;
    background-color: $selectBg;
  }
}

a.c-sidebar_menu__list_item {
  color: $primary;

  &.is_active {
    background: $accent;
    border: 1px solid $accent;
    color: $selectFg;
  }

  &:not(.is_active):hover {
    color: $selectFg;
    background-color: $active;
    border-color: $active;
  }
}

.p-team_sidebar__shortcut_hint {
  background: $fg;
  color: $bg;
}

.p-team_sidebar__mentions_badge {
  color: $bg2;
}

.p-team_sidebar__signed_out_badge {
  color: $yellow;
}

.p-channel_sidebar--global_nav_layout:after {
  background: $bg;
}

.p-channel_sidebar__empty_state {
  color: $text;
}

.p-channel_sidebar__banner {
  color: $fg;
}

.p-channel_sidebar__banner--mentions {
  background: $red;
}

.p-channel_sidebar__banner--unreads {
  background: $primary;
}

.p-channel_sidebar__channel.c-link--focus-visible:focus .p-channel_sidebar__name {
  box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
}

.p-channel_sidebar__link {
  &.c-button--focus-visible:focus .p-channel_sidebar__name,
  &.c-link--focus-visible:focus .p-channel_sidebar__name {
    box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
  }
}

.p-channel_sidebar {
  background: $contrast;
  color: $fg;
}

.p-channel_sidebar__channel_section_select_menu--checked {
  color: $primary;

  .c-menu_item__icon {
    color: $primary;
  }
}

.p-channel_sidebar__channel_section_menu_submenu_label__secondary_text {
  color: $text;
}

.c-menu_item__li--highlighted .p-channel_sidebar__channel_section_menu_submenu_label__secondary_text {
  color: $selectFg;
}

.p-channel_sidebar__list {
  .p-channel_sidebar__channel,
  .p-channel_sidebar__link,
  .p-channel_sidebar__channel:link,
  .p-channel_sidebar__link:link,
  .p-channel_sidebar__channel:visited,
  .p-channel_sidebar__link:visited,
  .p-channel_sidebar__channel:hover,
  .p-channel_sidebar__link:hover {
    color: $fg;
    border-left: 2px solid transparent;
  }

  .p-channel_sidebar__channel--selected,
  .p-channel_sidebar__link--selected,
  .p-channel_sidebar__channel--selected:link,
  .p-channel_sidebar__link--selected:link,
  .p-channel_sidebar__channel--selected:visited,
  .p-channel_sidebar__link--selected:visited,
  .p-channel_sidebar__channel--selected:hover,
  .p-channel_sidebar__link--selected:hover,
  .p-channel_sidebar__channel--selected + .p-channel_sidebar__close,
  .p-channel_sidebar__link--selected + .p-channel_sidebar__close {
    color: $primary;
    border-left: 2px solid $accent;

    .p-channel_sidebar__channel_icon_prefix.p-channel_sidebar__channel_icon_prefix--comfy {
      background: $hl;
    }
  }

  .p-channel_sidebar__channel:hover,
  .p-channel_sidebar__link:hover,
  .p-channel_sidebar__close_container:hover {
    background: $tree;
  }

  .p-channel_sidebar__header {
    color: $fg;
  }

  .p-channel_sidebar__channel--selected .p-channel_sidebar__presence_icon--on-avatar-border,
  .p-channel_sidebar__channel--selected:hover .p-channel_sidebar__presence_icon--on-avatar-border {
    -webkit-text-stroke-color: $primary;
  }
}

.p-channel_sidebar__close_container.p-channel_sidebar_header_link__container:hover * {
  background: $hl;
}

.p-channel_sidebar__section-heading--browse:hover,
.p-channel_sidebar__channel--selected .p-channel_sidebar__channel_icon_prefix,
.p-channel_sidebar__channel--selected:hover .p-channel_sidebar__channel_icon_prefix,
.p-channel_sidebar__link--selected:before,
.p-channel_sidebar__link--selected:before,
.p-channel_sidebar__channel--selected:after,
.p-channel_sidebar__channel--selected:hover:after,
.p-channel_sidebar__link--selected:after,
.p-channel_sidebar__link--selected:after {
  color: $selectFg;
}

input[type='text'].p-channel_sidebar__folder_heading_label_rename {
  background: $contrast;
  color: $fg;
}

input[type='text'].p-channel_sidebar__folder_heading_label_rename:hover {
  background: $bg;
  color: $fg;
}

/* Override presence icons */
.p-channel_sidebar__channel--im .c-presence--active,
.p-channel_sidebar__channel--im-slackbot:before {
  color: $accent;
}

.p-channel_sidebar__channel--im.p-channel_sidebar__channel--selected .c-presence,
.p-channel_sidebar__channel--im-slackbot.p-channel_sidebar__channel--selected:before {
  color: $fg;
}

.p-channel_sidebar__channel--im .c-presence--away {
  color: $text;
}

.p-channel_sidebar__channel--selected,
.p-channel_sidebar__channel--selected:hover,
.p-channel_sidebar__link--selected,
.p-channel_sidebar__link--selected:hover {
  background: $tree;
}

.p-channel_sidebar__channel--selected:before,
.p-channel_sidebar__channel--selected:hover:before,
.p-channel_sidebar__link--selected:before,
.p-channel_sidebar__link--selected:before,
.p-channel_sidebar__channel--selected:after,
.p-channel_sidebar__channel--selected:hover:after,
.p-channel_sidebar__link--selected:after,
.p-channel_sidebar__link--selected:after {
  color: $selectFg;
}

.p-channel_sidebar__badge,
.p-channel_sidebar__banner--mentions {
  background: $accent;
}

.p-channel_sidebar .c-custom_scrollbar__thumb_vertical,
.p-channel_sidebar .c-scrollbar__bar {
  background: $accent;
}

.client_channels_list_container.focusablesection:focus .sectionfocusindicator,
.client_channels_list_container .focus-ring,
.p-channel_sidebar.focusablesection:focus .sectionfocusindicator,
#team_menu.focusablesection:focus .sectionfocusindicator {
  box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
}

.client_channels_list_container a:not(.c-link--focus-visible).focus-ring,
.client_channels_list_container button:not(.c-button--focus-visible).focus-ring,
.p-channel_sidebar__jumper.c-button--focus-visible:focus,
.p-channel_sidebar__history_button.c-button--focus-visible:focus,
.p-channel_sidebar__section_heading_label--clickable.c-button--focus-visible:focus,
.p-channel_sidebar__section_heading_plus.c-button--focus-visible:focus,
.p-channel_sidebar__channel.c-link--focus-visible:focus .p-channel_sidebar__name,
.p-channel_sidebar__link.c-button--focus-visible:focus .p-channel_sidebar__name,
.p-channel_sidebar__close.c-button--focus-visible:focus {
  box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
}

.p-channel_sidebar--iap1 .p-channel_sidebar__section_heading_plus:hover,
.p-channel_sidebar--iap1 .p-channel_sidebar__section_heading_ellipsis:hover,
.p-channel_sidebar--iap1 .p-channel_sidebar__section_heading_expand_container--show_more_feature:hover {
  background: $hl;
  color: $primary;
}

/** `opacity: 1` color overrides */
.p-channel_sidebar__channel--unread:not(.p-channel_sidebar__channel--muted):not(.p-channel_sidebar__channel--suggested):not(.p-channel_sidebar__channel--selected)
.p-channel_sidebar__name,
.p-channel_sidebar__link--unread:not(.p-channel_sidebar__link--selected) .p-channel_sidebar__name,
.p-channel_sidebar__link--invites:not(.p-channel_sidebar__link--dim) .p-channel_sidebar__name,
.p-channel_sidebar__link--add-channel:not(.p-channel_sidebar__link--dim) .p-channel_sidebar__name,
.p-channel_sidebar__section_heading_label--clickable:hover,
.p-channel_sidebar__section_heading_label--unreads,
.p-channel_sidebar__quickswitcher:hover {
  color: $primary;
}

/** Navigation Bar **/
.p-channel_sidebar__jumper {
  background: $contrast;
}

.p-channel_sidebar__jumper:hover {
  background: $bg;
}

.p-channel_sidebar__history_button {
  background: $button;
}

.p-ia__view_header {
  border-bottom: none;
  box-shadow: 0px 10px 10px -6px $border;
  background: $bg2;
  z-index: 1000;

  .p-channel_sidebar__history_button:not(.p-channel_sidebar__history_button--disabled) {
    &:hover {
      background-color: $hl;
    }

    &:active {
      background-color: $active;
    }
  }
}

.p-channel_sidebar__history_button:hover {
  background: $hl;
}

.p-channel_sidebar__history_button--disabled:hover {
  background: $excluded;
}

/** Global Nav (DEPRECATED BUT KEEP FOR SONIC) **/
.p-global_nav__top {
  background: $bg;
  color: $fg;
}

.p-global_nav__top:after {
  background: $bg;
}

.p-global_nav__sidebar {
  background: $contrast;
  color: $text;
}

.p-global_nav__top_user_presence {
  background: $contrast;
}

.p-global_nav__top_user_presence.c-presence--active {
  color: $accent;
}

.p-global_nav__top_user_presence.c-presence--away {
  color: $text;
}

.p-global_nav__sidebar_jumper:hover,
.p-global_nav__sidebar_button:hover {
  color: $primary;
}

/** Classic Nav (WIP) **/
.p-classic_nav__team_header {
  background: $bg;
  color: $fg;
}

.p-classic_nav__team_header__team__dnd:hover {
  color: $primary;
}

.p-classic_nav__team_header:hover {
  background: $selectBg;
}

.p-classic_nav__team_header__user__presence.c-presence--active {
  color: $accent;
}

.p-classic_nav__team_header__user__presence.c-presence--away {
  color: $text;
}

.p-classic_nav__team_header .c-link--focus-visible:focus,
.p-classic_nav__team_header .c-button--focus-visible:focus {
  box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
}

.p-team_sidebar,
.p-team_sidebar--frameless::before {
  background: $bg;
}

.p-team_sidebar__item {
  color: $fg;
}

.p-team_sidebar__add_button {
  color: $fg;
}

.p-team_sidebar__add_button:hover,
.p-team_sidebar__add_button:focus,
.p-team_sidebar__add_button:active {
  color: $primary;
}

.p-team_sidebar__add_button {
  background: $button;
  border-color: $borderLight;
}

.p-team_sidebar__add_button:hover,
.p-team_sidebar__add_button:focus,
.p-team_sidebar__add_button:active {
  border-color: $primary;
  background: $hl;
  box-shadow: 0 0 0 3px $button, 0 0 0 6px $hl;
}

.p-team_sidebar__unread_dot,
.p-team_sidebar__mentions_badge {
  border-color: $bg;
}

.p-team_sidebar__mentions_badge {
  background: $accent2;
}

.p-team_sidebar__unread_dot {
  background: $accent;
}

.p-team_sidebar__item.c-button--focus-visible:focus,
.p-team_sidebar__add_button.c-link--focus-visible:focus {
  box-shadow: 0 0 0 3px $bg, 0 0 0 4px $accent, 0 0 0 6px $accentT;
}

.c-button--focus-visible:focus .p-team_sidebar__icon--active {
  box-shadow: none;
}

.p-team_sidebar__signed_out_badge__stroke {
  -webkit-text-stroke: 6px $accent;
  color: $accent;
}

.p-team_sidebar__icon:hover {
  box-shadow: 0 0 0 3px $button, 0 0 0 6px $hl;
}

.p-team_sidebar__icon--active,
.p-team_sidebar__icon--active:hover {
  box-shadow: 0 0 0 3px $bg, 0 0 0 6px $primary;
}

.p-channel_sidebar__compose_button {
  box-shadow: 0 0 0 1px $borderLight, 0 4px 12px 0 $borderLight;
}

@keyframes p-welcome-place__sidebar_animation {
  0% {
    font-weight: 900;
  }

  50% {
    font-weight: 900;
    color: $bg;
  }

  to {
    font-weight: 900;
    color: inherit;
  }
}

div[aria-selected='true'].p-channel_sidebar__static_list__item:focus:after {
  box-shadow: 0 0 0 1px $primary, 0 0 0 5px $primaryT;
}

.p-channel_sidebar__invite_prompt__container {
  background-color: $hl;
}

.p-channel_sidebar__custom_sections_alert {
  border: 1px solid $borderLight;
}

.p-channel_sidebar__custom_sections_copy_container {
  .p-channel_sidebar__custom_sections_copy_container__description {
    color: $text;
  }
}

.p-channel_sidebar__custom_sections_copy_header__heading__badge {
  color: $selectFg;
  background-color: $accent;
}

.p-channel_sidebar--iap1 .p-channel_sidebar__section_heading {
  background: $contrast;
  color: $text;
}

.p-channel_sidebar--iap1 .p-channel_sidebar__section_heading_label,
.p-channel_sidebar__section_heading__label {
  font-weight: bold;
  text-transform: uppercase;
}

.p-sidebar_link__icon--bold {
  color: $primary;
}

.p-arrow_cta {
  color: $primary;
}

.p-channel_sidebar__link.p-channel_sidebar_header_link,
.p-channel_sidebar__link.p-channel_sidebar_header_link--bright {
  background: $bg2;
  color: $selectFg;
}

.p-channel_sidebar__organize_mode_menu {
  .p-channel_sidebar__organize_action {
    color: $text;
    background: $button;

    &:hover, &:active, &:focus {
      background: $hl;
      color: $selectFg;
    }
  }

  .p-channel_sidebar__organize_action--primary {
    color: $fg;
    background: $accent;

    &:hover, &:active, &:focus {
      color: $selectFg;
      background: $accent;
    }
  }

}

.p-channel_sidebar__member_label {
  font-style: italic;
  color: $disabled;
}

.p-channel_sidebar__link .p-channel_sidebar__channel_icon_prefix--comfy,
.p-channel_sidebar__channel:not(.p-channel_sidebar__channel--typing) .p-channel_sidebar__channel_icon_prefix--comfy {
  background: $button;
}

.p-channel_sidebar__channel.p-channel_sidebar__channel--muted:not(.p-channel_sidebar__channel--typing) .p-channel_sidebar__channel_icon_prefix--comfy {
  background: transparent;
  color: $text;
}

.p-channel_sidebar__link--add-more-items .p-channel_sidebar__channel_icon_prefix--comfy {
  background: transparent;
  color: $fg;
}

.p-channel_sidebar__channel--unread:not(.p-channel_sidebar__channel--muted):not(.p-channel_sidebar__channel--selected) .p-channel_sidebar__channel_icon_prefix--comfy {
  background: $button;
  color: $primary;
}

.p-channel_sidebar__channel--suggested:not(.p-channel_sidebar__channel--typing) .p-channel_sidebar__channel_icon_prefix--comfy {
  color: $text;
  background: transparent;
}

.p-channel_sidebar__user_avatar_presence_bg {
  background: transparent;
}
